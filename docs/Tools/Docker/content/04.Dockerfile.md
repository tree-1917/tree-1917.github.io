# Dockerfile Documentation ğŸ“¦ğŸ³

## Outline:

- [x] What is a Dockerfile? ğŸ“
- [x] Dockerfile vs Docker Image vs Docker Container âš–ï¸
- [x] How to Build an Image from a Dockerfile ğŸ—ï¸
- [x] How to Build a Container from a Docker Image ğŸ“¦
- [x] Common Commands for Running Containers ğŸš€
- [x] Basic Operations on Docker ğŸ› ï¸
- [x] What Does It Mean for a Container to Be Isolated? ğŸš§
- [x] How to Forward Ports from Local to Container ğŸ”„

---

## What is a Dockerfile? ğŸ“

A **Dockerfile** is a text file that contains a series of instructions to build a Docker image for your project. It specifies the steps required to create an environment that can be used to run your application within a container. By using a Dockerfile, anyone can create a container from the image and run the project. ğŸŒ

---

## Dockerfile **Vs** Docker Image **Vs** Docker Container âš–ï¸

| **Term**             | **Description**                                                                             | **Analogy**  |
| -------------------- | ------------------------------------------------------------------------------------------- | ------------ |
| **Dockerfile**       | A recipe that defines how to create an image.                                               | ğŸ½ï¸ Recipe    |
| **Docker Image**     | A blueprint that describes the environment for running applications.                        | ğŸ—ï¸ Blueprint |
| **Docker Container** | A running instance of an image, which contains everything needed to execute an application. | ğŸ“¦ Container |

---

## How to Build an Image from a Dockerfile? ğŸ—ï¸

To build an image from a Dockerfile, use the following command:

```bash
docker build -t <image_name>:<tag> .
```

- `-t <image_name>:<tag>`: Specifies the name and tag of the image. ğŸ·ï¸
- `.`: Indicates that the Dockerfile is in the current directory. ğŸ“‚

---

## How to Build a Container from a Docker Image? ğŸ“¦

To create a container from a Docker image, use the following command:

```bash
docker run -d --name <container_name> <image_name>:<tag>
```

- `-d`: Run the container in detached mode (in the background). ğŸŒŒ
- `--name <container_name>`: Assign a name to the container. ğŸ·ï¸
- `<image_name>:<tag>`: Specifies the image from which to create the container. ğŸ–¼ï¸

---

## What Does It Mean for a Container to Be Isolated? ğŸš§

A Docker container runs in an isolated environment. This means that the processes running inside the container are separated from the host system and other containers. Isolation provides:

- **Security**: Applications running in containers have limited access to the host system, reducing the risk of security breaches. ğŸ”’
- **Resource Control**: Containers can be limited in terms of CPU and memory usage, ensuring that no single container can consume all available resources. âš™ï¸
- **Consistent Environments**: Each container can have its own dependencies and configurations, making it easier to manage and deploy applications across different environments. ğŸ“¦

---

## How to Forward Ports from Local to Container? ğŸ”„

To forward a port from your local machine to a Docker container, use the `-p` option when running the container:

```bash
docker run -d -p <host_port>:<container_port> --name <container_name> <image_name>:<tag>
```

- `-p <host_port>:<container_port>`: Maps the specified port on the host to the specified port in the container. ğŸŒ

Example:

```bash
docker run -d -p 4002:4002 --name my_container my_image:latest
```

---

## Common Commands for Running Containers ğŸš€

### General Running Commands

| Command                   | Description                                                                   | Emoji |
| ------------------------- | ----------------------------------------------------------------------------- | ----- |
| `-d`                      | Run the container in detached mode (in the background).                       | ğŸš€    |
| `--name <container_name>` | Assign a specific name to the container for easier reference.                 | ğŸ·ï¸    |
| `-i`                      | Run the container in interactive mode, allowing you to interact with it.      | ğŸ®    |
| `-t`                      | Allocate a pseudo-TTY for the container, useful for interactive sessions.     | ğŸ­    |
| `--rm`                    | Automatically remove the container once it exits, helping to save disk space. | ğŸ—‘ï¸    |
| `--restart <policy>`      | Specify a restart policy for the container (e.g., always, unless-stopped).    | ğŸ”„    |
| `--user <user>`           | Run the container with a specified user ID or username.                       | ğŸ‘¤    |
| `--env <key=value>`       | Set environment variables in the container.                                   | âš™ï¸    |

### Networking and Port Mapping Commands

| Command                           | Description                                            | Emoji |
| --------------------------------- | ------------------------------------------------------ | ----- |
| `-p <host_port>:<container_port>` | Map a port from the host to the container.             | ğŸ”—    |
| `--network <network_name>`        | Connect the container to a specific network.           | ğŸŒ    |
| `--publish-all`                   | Publish all exposed ports to random ports on the host. | ğŸŒ    |

### Resource Management Commands

| Command            | Description                                     | Emoji |
| ------------------ | ----------------------------------------------- | ----- |
| `--memory <limit>` | Set a memory limit for the container.           | ğŸ§     |
| `--cpus <value>`   | Limit the number of CPUs the container can use. | âš™ï¸    |

### Volume and File System Commands

| Command                                                        | Description                                    | Emoji |
| -------------------------------------------------------------- | ---------------------------------------------- | ----- |
| `-v <host_path>:<container_path>`                              | Mount a volume from the host to the container. | ğŸ“    |
| `--mount type=bind,source=<host_path>,target=<container_path>` | Bind mount a host path to a container path.    | ğŸ”—    |

### Environment and Configuration Commands

| Command               | Description                             | Emoji |
| --------------------- | --------------------------------------- | ----- |
| `--env-file <file>`   | Read environment variables from a file. | ğŸ“„    |
| `--label <key=value>` | Set metadata for the container.         | ğŸ·ï¸    |

---

## Basic Operations on Docker ğŸ› ï¸

### Container Management Commands

| Command                           | Description                                   | Emoji |
| --------------------------------- | --------------------------------------------- | ----- |
| `docker ps`                       | List running containers.                      | ğŸ“¦    |
| `docker ps -a`                    | List all containers (including stopped ones). | ğŸ“œ    |
| `docker run`                      | Create and start a container.                 | â–¶ï¸    |
| `docker stop <container_name>`    | Stop a running container.                     | â¹ï¸    |
| `docker start <container_name>`   | Start a stopped container.                    | â–¶ï¸    |
| `docker restart <container_name>` | Restart a running or stopped container.       | ğŸ”„    |
| `docker rm <container_name>`      | Remove a stopped container.                   | ğŸ—‘ï¸    |

### Image Management Commands

| Command                                    | Description                        | Emoji |
| ------------------------------------------ | ---------------------------------- | ----- |
| `docker images`                            | List available images.             | ğŸ–¼ï¸    |
| `docker pull <image_name>`                 | Download an image from a registry. | â¬‡ï¸    |
| `docker push <image_name>`                 | Upload an image to a registry.     | â¬†ï¸    |
| `docker rmi <image_name>`                  | Remove an image.                   | âŒ    |
| `docker tag <source_image> <target_image>` | Tag an image for easier reference. | ğŸ·ï¸    |

### Logging and Inspection Commands

| Command                           | Description                                     | Emoji |
| --------------------------------- | ----------------------------------------------- | ----- |
| `docker logs <container_name>`    | View logs for a container.                      | ğŸ“œ    |
| `docker inspect <container_name>` | Display detailed information about a container. | ğŸ§    |

### Network and Volume Management Commands

| Command               | Description                                                        | Emoji |
| --------------------- | ------------------------------------------------------------------ | ----- |
| `docker network ls`   | List all Docker networks.                                          | ğŸŒ    |
| `docker volume ls`    | List all Docker volumes.                                           | ğŸ’¾    |
| `docker-compose up`   | Start services defined in a `docker-compose.yml` file.             | ğŸš€    |
| `docker-compose down` | Stop and remove containers defined in a `docker-compose.yml` file. | ğŸ›‘    |

---

### Conclusion ğŸ‰

This documentation provides a comprehensive overview of Dockerfile, its purpose, and how to work with Docker images and containers. By understanding these concepts and commands, you can efficiently manage your applications using Docker. Happy Dockering! ğŸ³

---
